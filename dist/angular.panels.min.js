!function(e){"use strict";var n=e.module("angular.panels",[]);n.constant("panelList",{}),n.provider("panels",["panelList",function(n){this.add=function(e){return e&&e.id&&(n[e.id]=e),this},this.$get=["$parse",function(t){var o=e.element(document.body),l={opened:void 0,open:function(e){if(o.addClass("overflow-hidden"),l.opened&&l.close(l.opened),e&&n[e]){var s=n[e],a=s.element,i=a.scope(),p=t(s.openCallbackFunction)(i);a.attr("style",l.style(s,!0)),"function"==typeof p&&p()}l.opened=e},close:function(){if(o.removeClass("overflow-hidden"),l.opened&&n[l.opened]){var e=n[l.opened],s=e.element,a=s.scope(),i=t(e.closeCallbackFunction)(a);s.attr("style",l.style(e,!1)),"function"==typeof i&&i()}l.opened=void 0},style:function(e,n){switch(e.position){case"top":case"bottom":return e.position+":"+(n?"0;":"-"+e.size+";")+"height:"+e.size;case"left":case"right":return e.position+":"+(n?"0;":"-"+e.size+";")+"width:"+e.size}}};return l}]}]),n.directive("panels",["$http","$compile","panels","panelList",function(n,t,o,l){return{restrict:"A",scope:{},controller:["$scope",function(e){e.panels=o}],link:function(s,a,i){e.forEach(l,function(i,p){if(i.templateUrl)n.get(i.templateUrl).success(function(n){var n='<div style="'+o.style(i)+'" class="panels panel-'+i.position+'" data-ng-class="{open : panels.opened==\''+i.id+'\'}"  data-ng-controller="'+i.controller+'">'+n+"</div>",c=t(n)(s);a.append(c),l[p].element=e.element(c)});else if(i.template){var c='<div style="'+o.style(i)+'" class="panels panel-'+i.position+'" data-ng-class="{open : panels.opened==\''+i.id+'\'}"  data-ng-controller="'+i.controller+'">'+i.template+"</div>",d=t(c)(s);a.append(d),l[p].element=e.element(d)}}),a.append(t('<div class="dimming" data-ng-class="{open : panels.opened}" data-ng-click="panels.close();"></div>')(s))}}}])}(angular);